<template name="viewRoom">
  {{> room}}
  {{> doors}}
</template>

<template name="room">

  {{#if editMode}}

    <div class="row-fluid">
      <div class="span12">
        <label><strong>Name</strong></label>
        <input id="edit-room-name" class="input-xxlarge" type="text" value="{{room.name}}" />
      </div>
    </div>

    <div class="row-fluid">
      <div class="span12">
        <label><strong>Description</strong></label>
        <textarea id="edit-room-desc" class="input-xxlarge" rows="10">{{room.description}}</textarea>
      </div>
    </div>

    <div class="row-fluid">
      <div class="span12 btn-group">
        <button id="edit-room-save" class="btn">Save</button>
        <button id="edit-room-cancel" class="btn">Cancel</button>
      </div>
    </div>

  {{else}}

    <div class="span12">
      <h4>{{room.name}}</h4>
      <p>{{room.description}}</p>
      
    </div>

  {{/if}}

</template>  
  
<template name="doors">

  <p class="row-fluid"></p>

  <div class="row-fluid">
    <div class="span12">
      
      {{#if room.doors}}
        <div>
          {{#each room.doors}}
            {{> door}}
          {{/each}}
        </div>
      {{else}}
        <p>There are no exits from this room.</p>
      {{/if}}

    </div>
  </div>
  
</template>

<template name="door">
  <button class="btn btn-small btn-block use-door" title="{{description}}">{{name}}</button>
</template>