<template name="playGame">

  <div class="row-fluid">
    <div class="span6">
      {{> roomsDropdown}}
      <button id="edit-room" class="btn">Edit Room</button>
      <button id="new-room" class="btn">New Room</button>
    </div>
  </div>
  
  <div class="row-fluid"><br/></div>

  <div class="row-fluid">
    <div class="span6 well">

      {{#if editMode}}
      
        <label><strong>Name</strong></label>      
        <input id="edit-room-name" class="input-xxlarge" type="text" value="{{room.name}}" />
      
        <label><strong>Description</strong></label>
        <textarea id="edit-room-desc" class="input-xxlarge" rows="10">{{room.description}}</textarea>
      
        <div class="btn-group">
          <button id="edit-room-save" class="btn">Save</button>
          <button id="edit-room-cancel" class="btn">Cancel</button>
        </div>
      
      {{else}}
      
        <h4>{{room.name}}</h4>      
        <p>{{room.description}}</p>
      
      {{/if}}
      
    </div>
  </div>
  
  <div class="row-fluid">
    <div class="span3 well">
      <div class="row-fluid">
        <div class="span12">
          {{> doors}}
        </div>
      </div>
      <div class="row-fluid">
        <div class="span12">
          {{> doorsDropdown}}
        </div>
      </div>
    </div>        
  </div>
  
</template>

<template name="doors">
  <p>
  {{#each room.doors}}
    {{> door}}
  {{else}}
    There are no exits from this room.
  {{/each}}
  </p>
</template>
  
<template name="door">
  <button class="btn btn-block use-door" title="{{description}}">{{name}}</button>
</template>
  
<template name="roomsDropdown">
  <div class="btn-group">
    <button class="btn dropdown-toggle" data-toggle="dropdown" href="#">
      Go To Room <span class="caret"/>
    </button>
    <ul class="dropdown-menu">
      {{#each rooms}}
        {{> roomDropdown}}
      {{/each}}
    </ul>
  </div>  
</template>
  
<template name="roomDropdown">
  <li><a tabindex="-1" class="goto-room" href="#">{{name}}</a></li>  
</template>

<template name="doorsDropdown">
  <div class="btn-group btn-block">
    <button class="btn btn-block dropdown-toggle" data-toggle="dropdown" href="#">
      Add Door to Room <span class="caret"/>
    </button>
    <ul class="dropdown-menu">
      {{#each rooms}}
        {{> doorDropdown}}
      {{/each}}
    </ul>
  </div>
</template>

<template name="doorDropdown">
  <li><a tabindex="-1" class="add-door-to-room" href="#">{{name}}</a></li>
</template>